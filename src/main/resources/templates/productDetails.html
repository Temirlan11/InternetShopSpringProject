<!DOCTYPE html>
<html xmlns:th = "http://www.thymeleaf.org" xmlns:layout="http://ultraq.net.nz/thymeleaf/layout" layout:decorator = "layout/MainAdmin.html">
<div layout:fragment = "site_content">
    <div class="row mt-15">
        <div class="list-group" style="width: 14rem;">
            <div class="list-group">
                <a href="#" th:text="#{label.DASHBOARD}" class="list-group-item list-group-item-action active" style="background-color: #3F4A4A">
                    DASHBOARD
                </a>
                <a th:href="@{'/productsPanel'}" th:text="#{label.ProductItems}" class="list-group-item list-group-item-action" style="font-size: 13px">
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-cart-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm7 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/>
                    </svg> Product Items
                </a>
                <a th:href="@{'/admin'}" th:text="#{label.Countries}" class="list-group-item list-group-item-action" style="font-size: 13px">
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-globe2" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm7.5-6.923c-.67.204-1.335.82-1.887 1.855-.143.268-.276.56-.395.872.705.157 1.472.257 2.282.287V1.077zM4.249 3.539a8.372 8.372 0 0 1-1.198-.49 7.01 7.01 0 0 1 2.276-1.52 6.7 6.7 0 0 0-.597.932 8.854 8.854 0 0 0-.48 1.079zM3.509 7.5H1.017A6.964 6.964 0 0 1 2.38 3.825c.47.258.995.482 1.565.667A13.4 13.4 0 0 0 3.508 7.5zm1.4-2.741c.808.187 1.681.301 2.591.332V7.5H4.51c.035-.987.176-1.914.399-2.741zM8.5 5.09V7.5h2.99a12.342 12.342 0 0 0-.399-2.741c-.808.187-1.681.301-2.591.332zM4.51 8.5H7.5v2.409c-.91.03-1.783.145-2.591.332a12.343 12.343 0 0 1-.4-2.741zm3.99 0v2.409c.91.03 1.783.145 2.591.332.223-.827.364-1.754.4-2.741H8.5zm-3.282 3.696A12.63 12.63 0 0 1 7.5 11.91v3.014c-.67-.204-1.335-.82-1.887-1.855a7.776 7.776 0 0 1-.395-.872zm.11 2.276a6.696 6.696 0 0 1-.598-.933 8.853 8.853 0 0 1-.481-1.079 8.38 8.38 0 0 0-1.198.49 7.01 7.01 0 0 0 2.276 1.522zm-1.383-2.964a9.083 9.083 0 0 0-1.565.667A6.963 6.963 0 0 1 1.018 8.5h2.49a13.36 13.36 0 0 0 .437 3.008zm6.728 2.964a7.009 7.009 0 0 0 2.275-1.521 8.376 8.376 0 0 0-1.197-.49 8.853 8.853 0 0 1-.481 1.078 6.688 6.688 0 0 1-.597.933zM8.5 11.909c.81.03 1.577.13 2.282.287-.12.312-.252.604-.395.872-.552 1.035-1.218 1.65-1.887 1.855V11.91zm3.555-.401c.57.185 1.095.409 1.565.667A6.963 6.963 0 0 0 14.982 8.5h-2.49a13.36 13.36 0 0 1-.437 3.008zM14.982 7.5h-2.49a13.361 13.361 0 0 0-.437-3.008 9.123 9.123 0 0 0 1.565-.667A6.963 6.963 0 0 1 14.982 7.5zM11.27 2.461c.177.334.339.694.482 1.078a8.368 8.368 0 0 0 1.196-.49 7.01 7.01 0 0 0-2.275-1.52c.218.283.418.597.597.932zm-.488 1.343c-.705.157-1.473.257-2.282.287V1.077c.67.204 1.335.82 1.887 1.855.143.268.276.56.395.872z"/>
                    </svg> Countries
                </a>
                <a th:href="@{'/brandspanel'}" th:text="#{label.Brands}" class="list-group-item list-group-item-action" style="font-size: 13px">
                    <i class="fa fa-copyright" aria-hidden="true"></i>  Brands
                </a>
                <a th:href="@{'/categoriespanel'}" th:text="#{label.Categories}" class="list-group-item list-group-item-action" style="font-size: 13px">
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-layers-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M7.765 1.559a.5.5 0 0 1 .47 0l7.5 4a.5.5 0 0 1 0 .882l-7.5 4a.5.5 0 0 1-.47 0l-7.5-4a.5.5 0 0 1 0-.882l7.5-4z"/>
                        <path fill-rule="evenodd" d="M2.125 8.567l-1.86.992a.5.5 0 0 0 0 .882l7.5 4a.5.5 0 0 0 .47 0l7.5-4a.5.5 0 0 0 0-.882l-1.86-.992-5.17 2.756a1.5 1.5 0 0 1-1.41 0l-5.17-2.756z"/>
                    </svg> Categories
                </a>
            </div>
        </div>
        <div class="col-8 ml-2">
            <form th:action="@{'/editDeleteItem/' + ${item.getId()}}" method="post">
                <div class="form-group">
                    <h4 th:text="${item.getName()}"></h4>
                </div>
                <div class="form-group">
                    <label for="formGroupExampleInput11">Name:</label>
                    <input type="text" class="form-control" name="name" id="formGroupExampleInput11" th:value="${item.getName()}" placeholder="Name">
                </div>
                <div class="form-group">
                    <label for="formGroupExampleInput3">Description</label>
                    <input type="text" class="form-control" name="description" id="formGroupExampleInput3" th:value="${item.getDescription()}" placeholder="description">
                </div>
                <div class="form-group">
                    <label for="formGroupExampleInput111">Price</label>
                    <input type="number" class="form-control" name="price" id="formGroupExampleInput111" th:value="${item.getPrice()}" placeholder="price">
                </div>

                <div class="form-group col-md-4">
                    <label for="inputState3">Star:</label>
                    <select id="inputState3" name="star" class="form-control">
                        <!--                                <div  th:each="i : ${#numbers.sequence(1, 5)}" th:text="${i}" th:if="${item.getStars() != i}">-->
                        <!--                                    <option th:each="i : ${#numbers.sequence(1, 5)}" th:text="${i}" th:if="${item.getStars() != i}"></option>-->
                        <!--                                </div>-->
                        <option th:each="i : ${#numbers.sequence(1, 5)}" th:text="${i}" th:if="${item.getStars() != i}"></option>
                        <option th:each="i : ${#numbers.sequence(1, 5)}" th:text="${i}" th:unless="${item.getStars() != i}" selected></option>
                        <!--                                <option value="1">1</option>-->
                        <!--                                <option value="2">2</option>-->
                        <!--                                <option value="3">3</option>-->
                        <!--                                <option value="4">4</option>-->
                        <!--                                <option value="5">5</option>-->
                    </select>
                </div>

                <div class="form-group">
                    <label for="formGroupExampleInput444">Small Picture Url:</label>
                    <input type="text" class="form-control" name="smallpicurl" id="formGroupExampleInput444" th:value="${item.getSmallPictureUrl()}" placeholder="pictureUrl">
                </div>

                <div class="form-group">
                    <label for="formGroupExampleInput455">Large Picture Url:</label>
                    <input type="text" class="form-control" name="largepicurl" id="formGroupExampleInput455" th:value="${item.getLargePictureUrl()}" placeholder="pictureUrl">
                </div>

                <div class="form-group col-md-4">
                    <label for="inputState22">In Top Page:</label>
                    <select id="inputState22" name="top_page" class="form-control">
                        <div th:if="${item.isInTopPage() == true}">
                            <option selected>True</option>
                            <option>False</option>
                        </div>
                        <div th:unless="${item.isInTopPage() == true}">
                            <option>True</option>
                            <option selected>False</option>
                        </div>
                    </select>
                </div>

                <div class="form-group col-md-4">
                    <label for="brandi2">Brand:</label>
                    <select id="brandi2" name="brand" class="form-control">
                        <option th:each="b : ${brands}" th:text="${b.getName()}" th:value="${b.getId()}" th:selected="${item!=null&&item.brand!=null&&item.brand.id==b.id}"></option>
                    </select>
                </div>

                <div class="modal-footer">
                    <button type="submit" class="btn btn-danger" name="btn_action" value="delete">Delete</button>
                    <button type="submit" class="btn btn-success" name="btn_action" value="edit">Edit</button>
                </div>
            </form>
        </div>

        <div class="col-7 mt-5 offset-3">
            <table class="table">
                <tbody>
                    <tr th:each="ic : ${item.categories}">
                        <form th:action="@{'/deleteitemcategory'}" method="post">
                            <input type="hidden" th:value="${item.id}" name="item_id">
                            <input type="hidden" th:value="${ic.id}" name="category_id">
                            <td th:text="${ic.name}"></td>
                            <td>
                                <img th:src="${ic.logoURL}" style="width: 25px;">
                            </td>
                            <td width="5%">
                                <button class="btn btn-danger btn-sm"> - </button>
                            </td>
                        </form>
                    </tr>
                    <tr th:each="o : ${otherCategories}">
                        <form th:action="@{'/assigncategory'}" method="post">
                            <input type="hidden" th:value="${item.id}" name="item_id">
                            <input type="hidden" th:value="${o.id}" name="category_id">
                            <td th:text="${o.name}"></td>
                            <td>
                                <img th:src="${o.logoURL}" style="width: 25px;">
                            </td>
                            <td width="5%">
                                <button class="btn btn-success btn-sm"> + </button>
                            </td>
                        </form>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="col-7 my-5 offset-3">
            <table class="table">
                <thead>
                <tr>
                    <th>ID</th>
                    <th>Picture</th>
                    <th>Url</th>
                    <th>Delete</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="p : ${pictures}">
                    <form th:action="@{'/deleteitemspicture'}" method="post">
                        <input type="hidden" th:value="${p.id}" name="pic_id">
                        <input type="hidden" th:value="${item.id}" name="item_id">
                        <td th:text="${p.id}"></td>
                        <td>
                            <img th:src="@{'/viewpicture/' + ${p.url}}" style="width: 40px;">
                        </td>
                        <td th:text="${p.url}"></td>
                        <td width="5%">
                            <button class="btn btn-danger btn-sm"> - </button>
                        </td>
                    </form>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td width="5%">
                        <button type="submit" class="btn btn-success btn-sm" data-toggle="modal" data-target="#exampleModal"> + </button>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form th:action="@{'/uploadpicture'}" method="post" enctype="multipart/form-data">
                        <div class="mb-3">
                            <input type="hidden" name="id" th:value="${item.id}">
                            <label for="formFileSm" class="form-label" th:text="#{button.chooseFile}">Small file input example</label>
                            <input class="form-control form-control-sm" id="formFileSm" type="file" name="item_picture">
                            <button class="btn btn-success mt-2" th:text="#{button.uploadFile}"></button>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Save changes</button>
                </div>
            </div>
        </div>
    </div>

</div>
</html>